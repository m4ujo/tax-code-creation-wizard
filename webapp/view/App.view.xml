<mvc:View controllerName="taco.controller.App"
  xmlns="sap.m"
  xmlns:html="http://www.w3.org/1999/xhtml"
  xmlns:form="sap.ui.layout.form"
  xmlns:table="sap.ui.table"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns:core="sap.ui.core"
  xmlns:l="sap.ui.layout"
  xmlns:u="sap.ui.unified" height="100%" displayBlock="true">
  <App width="100%">
    <NavContainer id="wizardNavContainer" width="100%">
      <pages>
        <Page id="taxCodeWizardPage" title="{i18n>tacoWizardTitle}">
          <content>
            <Wizard id="tacoWizard" width="100%" complete="onComplete" finishButtonText="Review">
              <WizardStep title="{i18n>step1Title}" validated="false" id="step-taxProperties" complete="completeTaxProperties">
                <form:SimpleForm editable="true" class="flex">
                  <html:div class="form-row">
                    <Label text="{i18n>lblCountryKey}" labelFor="cbx-countryKey"/>
                    <ComboBox required="true" id="cbx-countryKey" change="validateTaxProperties" showSecondaryValues="true" items="{ path: '/', sorter: { path: 'land1' }, length : '300' }">
                      <core:ListItem key="{land1}" text="{land1}" additionalText="{landx}" />
                    </ComboBox>
                  </html:div>

                  <html:div class="form-row">
                    <Label text="{i18n>lblTaxType}" labelFor="cbx-taxType" />
                    <ComboBox required="true" id="cbx-taxType" change="validateTaxProperties" showSecondaryValues="true" items="{ path: '/', sorter: { path: 'mwart' } }">
                      <core:ListItem key="{mwart}" text="{mwart_desc}" additionalText="{mwart}" />
                    </ComboBox>
                  </html:div>
                </form:SimpleForm>
              </WizardStep>
              <WizardStep title="{i18n>step2Title}" validated="false" id="step-vatScenarios" complete="completeVatScenarios">
                <form:SimpleForm editable="true">
                  <html:div class="form-row">
                    <Label text="{i18n>lblVatScenario}" labelFor="cbx-vatScenarios" />
                    <ComboBox required="true" id="cbx-vatScenarios" change="validateVatScenario" showSecondaryValues="true" items="{ path: '/', sorter: { path: 'scen' } }">
                      <core:ListItem text="{scen}" additionalText="{scen_desc}" />
                    </ComboBox>
                  </html:div>
                </form:SimpleForm>
                <Button text="Back" press="backToStep1" />
              </WizardStep>
              <WizardStep title="{i18n>step3Title}" validated="true" id="step-taxAttr" complete="completeTaxAttr">
                <form:SimpleForm editable="true" id="form-step3">
                  <html:div class="form-row">
                    <l:HorizontalLayout id="field-TAXCODE" class="form-row">
                      <Label text="{i18n>lblTaxCodeId}" labelFor="input-taxCodeId" />
                      <Input id="input-taxCodeId" width="100%" class="input" maxLength="2" />
                    </l:HorizontalLayout>

                    <html:div id="field-TAXNAME" class="form-row">
                      <Label text="Tax Name" labelFor="input-taxName" />
                      <Input id="input-taxName" width="100%" class="input" required="true" maxLength="2" />
                    </html:div>
                  </html:div>

                  <html:div id="field-TAXJURISDICTION" class="form-row">
                    <Label text="Tax Jurisdiction" labelFor="cbx-taxJur" />
                    <ComboBox id="cbx-taxJur" change="" showSecondaryValues="true" items="{ path: '/', sorter: { path: 'key' }, length : '300' }">
                      <core:ListItem key="{txjcd}" text="{txjcd}" additionalText="{txjcd_name}" />
                    </ComboBox>
                  </html:div>

                  <html:div id="field-CHECKID" class="form-row">
                    <Label text="{i18n>chkCheckId}" labelFor="chk-checkId" />
                    <CheckBox id="chk-checkId"/>
                  </html:div>

                  <html:div id="field-TAXRETURNCOUNTRY" class="form-row">
                    <Label text="{i18n>lblReportCountry}" labelFor="cbx-reportCountry" />
                    <ComboBox id="cbx-reportCountry" change="" showSecondaryValues="true" items="{ path: '/', sorter: { path: 'land1' }, length : '350' }">
                      <core:ListItem key="{land1}" text="{land1}" additionalText="{landx}" />
                    </ComboBox>
                  </html:div>

                  <html:div id="field-EUTAXCLASSIFICATION" class="form-row">
                    <Label text="{i18n>lblEuCode}" labelFor="cbx-euCode" />
                    <ComboBox id="cbx-euCode" change="" showSecondaryValues="true" items="{ path: '/', sorter: { path: 'egrkz' }, length : '300' }">
                      <core:ListItem key="{egrkz}" text="{egrkz}" additionalText="{egrkz_desc}" />
                    </ComboBox>
                  </html:div>

                  <html:div id="field-TARGETTAXCODE" class="form-row">
                    <Label text="{i18n>lblTargetTaxCode}" labelFor="cbx-targetTaxCode" />
                    <ComboBox id="cbx-targetTaxCode" change="" showSecondaryValues="true" items="{ path: '/', sorter: { path: 'code' }, length : '300' }">
                      <core:ListItem key="{code}" text="{code}" additionalText="{description}" />
                    </ComboBox>
                  </html:div>

                  <html:div id="field-TAXTOLERANCEPERCENT" class="form-row">
                    <Label text="{i18n>lblTolerance}" labelFor="input-tolerance" />
                    <Input id="input-tolerance" width="100%" class="input sMedium" liveChange="validateNumericInput" />
                  </html:div>
                </form:SimpleForm>
                <Button text="Back" press="backToStep2" />
              </WizardStep>
              <WizardStep title="{i18n>step4Title}" validated="true">
                <table:Table id="table-revTaxRates" rows="{/}" selectionMode="None" visibleRowCountMode="Fixed" visibleRowCount="6" paste="onPaste">
                  <table:columns>
                    <table:Column width="10%">
                      <Label text="{i18n>lblConditionType}" />
                      <table:template>
                        <Text text="{ConditionType}" />
                      </table:template>
                    </table:Column>
                    <table:Column width="20%">
                      <Label text="{i18n>lblDescription}" />
                      <table:template>
                        <Text text="{Description}" />
                      </table:template>
                    </table:Column>
                    <table:Column width="10%">
                      <Label text="{i18n>lblAccountKey}" />
                      <table:template>
                        <Label text="{AccountKey}" />
                      </table:template>
                    </table:Column>
                    <table:Column width="10%">
                      <Label text="{i18n>lblGLAccount}" />
                      <table:template>
                        <ObjectStatus text="{GLAccount}" />
                      </table:template>
                    </table:Column>
                    <table:Column width="10%">
                      <Label text="{i18n>lblRate}" />
                      <table:template>
                        <Input value="{Rate}" liveChange="validateNumericInput" />
                      </table:template>
                    </table:Column>
                  </table:columns>
                </table:Table>
                <Button text="Back" press="backToStep3" />
              </WizardStep>
            </Wizard>
          </content>
        </Page>
        <Page id="taxCodeReviewPage" title="{i18n>tacoReviewTitle}">
          <content>
            <Text text="Review" />
          </content>
        </Page>
      </pages>
    </NavContainer>
  </App>
</mvc:View>
